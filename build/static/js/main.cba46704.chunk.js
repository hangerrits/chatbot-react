(this["webpackJsonpmy-chatbot-app"]=this["webpackJsonpmy-chatbot-app"]||[]).push([[0],{15:function(e,t,a){e.exports=a(29)},24:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),l=a.n(o),i=(a(24),a(42));var s=()=>{const[e,t]=Object(n.useState)([]),[a,o]=Object(n.useState)(""),[l,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[p,m]=Object(n.useState)(""),g=Object(n.useRef)(!1),u=e=>{e.preventDefault(),"CheckItOut"===p?d(!0):alert("Incorrect password. Please try again.")},x=async e=>{if(""!==e.trim()){s(!0),t(t=>[...t,{text:e,sender:"user"}]),o("");try{const n=await fetch("http://localhost:3001/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!n.ok)throw new Error("Network response was not ok");const r=n.body.getReader(),o=new TextDecoder;for(;;){const{done:e,value:n}=await r.read();if(e){console.log("Stream complete");break}const l=o.decode(n);console.log("Received chunk:",l);const i=l.split("\n");for(const r of i)if(r.startsWith("data: "))try{const e=JSON.parse(r.slice(6));console.log("Parsed event data:",e),e.fullResponse&&t(t=>[...t,{text:e.fullResponse,sender:"bot",citations:e.citations}])}catch(a){console.error("Error parsing event data:",a)}}}catch(a){console.error("Error:",a),t(e=>[...e,{text:"Sorry, there was an error processing your request.",sender:"bot"}])}finally{s(!1)}}};return Object(n.useEffect)(()=>{if(c&&!1===g.current)return x("Hallo, AI Aanbestedingsassistent!"),()=>g.current=!0},[c]),c?r.a.createElement("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"}},r.a.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},r.a.createElement("img",{src:"./logo_AB.jpg",alt:"Company Logo",style:{maxWidth:"200px",height:"auto"}})),r.a.createElement("div",{style:{display:"flex",marginBottom:"20px"}},r.a.createElement("div",{style:{width:"5%",paddingRight:"10px"}},r.a.createElement("h2",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"}}),r.a.createElement("p",{style:{fontSize:"14px"}})),r.a.createElement("div",{style:{width:"90%"}},r.a.createElement("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"15px",textAlign:"center"}},"Aanbestedingsassistent"),r.a.createElement("div",{style:{border:"1px solid #ccc",borderRadius:"5px",height:"500px",overflowY:"auto",marginBottom:"15px",padding:"10px"}},e.map((e,t)=>r.a.createElement("div",{key:t,style:{marginBottom:"10px",textAlign:"user"===e.sender?"right":"left"}},r.a.createElement("span",{style:{display:"inline-block",padding:"8px 12px",borderRadius:"15px",backgroundColor:"user"===e.sender?"#e6f2ff":"#f0f0f0",maxWidth:"80%"}},r.a.createElement(i.a,null,e.text)),e.citations&&e.citations.length>0&&r.a.createElement("div",{className:"mt-2 text-sm text-gray-600"},r.a.createElement("strong",null,"Bronnen:"),r.a.createElement("ol",null,e.citations.map((e,t)=>{const a=e.mappedUrl||e.originalUrl;return r.a.createElement("li",{key:t},"[",e.index,"]"," ",r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline"},a),e.error&&" (".concat(e.error,")"))})))))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{type:"text",value:a,onChange:e=>{o(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&!l&&a.trim()&&x(a)},placeholder:"Stel een vraag...",style:{flexGrow:1,padding:"8px",borderRadius:"5px 0 0 5px",border:"1px solid #ccc"},disabled:l}),r.a.createElement("button",{onClick:()=>{!l&&a.trim()&&x(a)},style:{padding:"8px 15px",backgroundColor:"#0066cc",color:"white",border:"none",borderRadius:"0 5px 5px 0",cursor:"pointer"},disabled:l},"Send"))),r.a.createElement("div",{style:{width:"5%",paddingLeft:"10px"}},r.a.createElement("h2",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"}}),r.a.createElement("p",{style:{fontSize:"14px"}}))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:"./logo-vandoorne.jpg",alt:"Company Logo",style:{maxWidth:"200px",height:"auto"}}),r.a.createElement("p",null,"Dit is een automatisch gegenereerd advies. Om zeker te zijn, neem contact op met: "," ",r.a.createElement("a",{href:"mailto:Verberne@vandoorne.com",style:{color:"#0066cc",textDecoration:"none"}},"Gijs Verberne")))):r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement("form",{onSubmit:u,style:{textAlign:"center"}},r.a.createElement("h2",{style:{marginBottom:"20px"}},"Enter Password"),r.a.createElement("input",{type:"password",value:p,onChange:e=>m(e.target.value),style:{padding:"8px",marginRight:"10px"}}),r.a.createElement("button",{type:"submit",style:{padding:"8px 15px",backgroundColor:"#0066cc",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"}},"Login")))};console.log("ChatbotUI:",s);var c=function(){return r.a.createElement("div",{className:"App"},s?r.a.createElement(s,null):r.a.createElement("p",null,"ChatbotUI not loaded"))};var d=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,43)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:o,getTTFB:l}=t;a(e),n(e),r(e),o(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c,null))),d()}},[[15,1,2]]]);
//# sourceMappingURL=main.cba46704.chunk.js.map